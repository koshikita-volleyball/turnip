# dynamodb-importer-fins-dividend

配当金データを取得してCSVファイルに出力するプロジェクト。  
過去の配当金データに関してはバッチファイルで対応せざるを得ないため。  

DynamoDBに逐次保存すると、かなりの時間がかかるため、

1. 配当金データをCSVファイルに出力。
2. CSVファイルをS3にアップロード。
3. S3上にあるCSVファイルをDynamoDBにインポート。

という順番で対応する。  

また、注意点として、CSVからDynamoDBへのインポートは新規テーブル作成にのみ対応していて、既存テーブルへの追加はできない。  
したがって、既存のテーブルを削除して、同一名称のテーブルを新規作成する必要がある。  

SAMテンプレートでわざわざ削除することを想定するテーブルを作成する理由は、CloudFormationの管理下に置くことで、テーブルの削除を忘れないようにするため。  

## 実行方法

`.env.example`を`.env`にリネームして、環境変数を設定する。  

```shell
yarn dev
```

CSVファイルが出力される。  

これをS3にアップロードして、DynamoDBにインポートする。  
